{"comments":null,"declarations":[{"children":[],"comments":null,"info":{"dataDeclType":"data","declType":"data","roles":["Nominal"],"typeArguments":[["t0",null]]},"kind":null,"sourceSpan":{"end":[39,51],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[39,1]},"title":"ReadableStream"},{"children":[],"comments":null,"info":{"dataDeclType":"data","declType":"data","roles":["Nominal"],"typeArguments":[["t0",null]]},"kind":null,"sourceSpan":{"end":[40,51],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[40,1]},"title":"WritableStream"},{"children":[],"comments":null,"info":{"dataDeclType":"data","declType":"data","roles":["Nominal","Nominal"],"typeArguments":[["t0",null],["t1",null]]},"kind":null,"sourceSpan":{"end":[41,60],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[41,1]},"title":"TransformStream"},{"children":[],"comments":"Convert a Strom to a ReadableStream. Elements are enqueued individually.\nRequires ctx to run the Om effects. Errors become stream errors with\npreserved error information. Supports cancellation — when the consumer\ncancels the ReadableStream, the internal fiber is killed.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[191,90],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[191,1]},"title":"toReadableStream"},{"children":[],"comments":"Convert a ReadableStream to a Strom using batched reads.\nEach pull reads up to 1000 elements from the underlying reader in a tight\nJS loop, producing properly-sized chunks that match Strom's batch model.\nThe reader is released when the stream ends.\n\nNote: if the consumer stops pulling early (e.g. via `takeStrom`), the\nreader lock is not released until GC. Use `useReadableStream` for\nguaranteed cleanup on abandonment.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[210,76],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[210,1]},"title":"fromReadableStream"},{"children":[],"comments":"Convert a ReadableStream to a Strom with a configurable chunk (batch) size.\nLarger values reduce per-chunk overhead; smaller values reduce latency.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["chunkSize",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[215,104],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[215,1]},"title":"fromReadableStreamWith"},{"children":[],"comments":"Consume a ReadableStream with guaranteed reader cleanup via `Aff.bracket`.\nThe reader is released when the callback completes, errors, or the fiber\nis cancelled — unlike `fromReadableStream` which leaks the reader on\nearly abandonment.\n\n```purescript\nuseReadableStream stream \\strom -> do\n  Strom.runCollect (Strom.takeStrom 5 strom)\n```\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"b","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om"],"Om"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om"],"Om"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[328,18],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[324,1]},"title":"useReadableStream"},{"children":[],"comments":"Like `useReadableStream` but with a configurable chunk (batch) size.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"b","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["chunkSize",{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om"],"Om"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om"],"Om"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[337,18],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[332,1]},"title":"useReadableStreamWith"},{"children":[],"comments":"Drain a Strom into a WritableStream. Resolves when the stream is fully written.\nBackpressure comes from the writer's ready promise.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"WritableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om"],"Om"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Data","Unit"],"Unit"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[231,88],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[231,1]},"title":"runWritable"},{"children":[],"comments":"Pipe a ReadableStream through a Strom transformation, producing a new\nReadableStream. This is the primary integration point: take web streams,\ntransform them with Strom combinators, and produce a web stream.\n\nReader cleanup: the reader acquired from the source ReadableStream is\nreleased when the transformed stream ends naturally or when the output\nReadableStream is cancelled by the consumer.\n","info":{"declType":"value","type":{"annotation":[],"contents":{"identifier":"a","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"b","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"ctx","kind":null,"skolem":null,"type":{"annotation":[],"contents":{"identifier":"err","kind":null,"skolem":null,"type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom"],"Strom"],"tag":"TypeConstructor"},{"annotation":[],"contents":"ctx","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"err","tag":"TypeVar"}],"tag":"TypeApp"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"a","tag":"TypeVar"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Effect"],"Effect"],"tag":"TypeConstructor"},{"annotation":[],"contents":{"annotation":[],"contents":[{"annotation":[],"contents":[["Yoga","Om","Strom","WebStream"],"ReadableStream"],"tag":"TypeConstructor"},{"annotation":[],"contents":"b","tag":"TypeVar"}],"tag":"TypeApp"},"tag":"ParensInType"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"},"visibility":"TypeVarInvisible"},"tag":"ForAll"}},"kind":null,"sourceSpan":{"end":[278,31],"name":"../purescript-yoga-om-strom/src/Yoga/Om/Strom/WebStream.purs","start":[273,1]},"title":"pipeThrough"}],"name":"Yoga.Om.Strom.WebStream","reExports":[]}
// Generated by purs version 0.15.15
import * as $foreign from "./foreign.js";
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Identity from "../Data.Identity/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Effect_Aff_Class from "../Effect.Aff.Class/index.js";
import * as Effect_Aff_Compat from "../Effect.Aff.Compat/index.js";
import * as Effect_Class from "../Effect.Class/index.js";
import * as Test_Spec from "../Test.Spec/index.js";
import * as Test_Spec_Runner_Node from "../Test.Spec.Runner.Node/index.js";
var sequence_ = /* #__PURE__ */ Data_Foldable.sequence_(/* #__PURE__ */ Test_Spec.applicativeSpecT(Data_Identity.applicativeIdentity))(Data_Foldable.foldableArray);
var bind = /* #__PURE__ */ Control_Bind.bind(Effect_Aff.bindAff);
var liftEffect = /* #__PURE__ */ Effect_Class.liftEffect(Effect_Aff.monadEffectAff);
var discover = function (dictMonadAff) {
    var MonadEffect0 = dictMonadAff.MonadEffect0();
    var Monad0 = MonadEffect0.Monad0();
    var bind1 = Control_Bind.bind(Monad0.Bind1());
    var liftEffect1 = Effect_Class.liftEffect(MonadEffect0);
    var liftAff = Effect_Aff_Class.liftAff(dictMonadAff);
    var pure = Control_Applicative.pure(Monad0.Applicative0());
    return function (pattern) {
        return bind1(liftEffect1(function () {
            return $foreign.getSpecs(pattern);
        }))(function (runDiscover) {
            return bind1(liftAff(Effect_Aff_Compat.fromEffectFnAff(runDiscover)))(function (specs) {
                return pure(sequence_(specs));
            });
        });
    };
};
var discover1 = /* #__PURE__ */ discover(Effect_Aff_Class.monadAffAff);
var discoverAndRunSpecs = function (reporters) {
    return function (pattern) {
        return Effect_Aff.launchAff_(bind(discover1(pattern))(function (specs) {
            return liftEffect(Test_Spec_Runner_Node.runSpecAndExitProcess(reporters)(specs));
        }));
    };
};
export {
    discover,
    discoverAndRunSpecs
};
//# sourceMappingURL=index.js.map
